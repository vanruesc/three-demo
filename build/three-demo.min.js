/**
 * three-demo v4.0.6 build Sat Dec 26 2020
 * https://github.com/vanruesc/three-demo
 * Copyright 2020 Raoul van RÃ¼schen
 * @license Zlib
 */
var THREEDEMO=(()=>{var v=Object.create,d=Object.defineProperty,f=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,E=Object.getOwnPropertyNames,y=Object.getOwnPropertyDescriptor,g=n=>d(n,"__esModule",{value:!0}),C=(n,e)=>{g(n);for(var t in e)d(n,t,{get:e[t],enumerable:!0})},x=(n,e,t)=>{if(g(n),e&&typeof e=="object"||typeof e=="function")for(let r of E(e))!M.call(n,r)&&r!=="default"&&d(n,r,{get:()=>e[r],enumerable:!(t=y(e,r))||t.enumerable});return n},l=n=>n&&n.__esModule?n:x(d(n!=null?v(f(n)):{},"default",{value:n,enumerable:!0}),n),L={};C(L,{Demo:()=>c,DemoManager:()=>D,DemoManagerEvent:()=>m});var a=l(require("three")),c=class{constructor(e="demo"){this.scene=new a.Scene;this.id=e,this.renderer=null,this.loadingManager=new a.LoadingManager,this.assets=new Map,this.scene=new a.Scene,this.camera=null,this.ready=!1}setRenderer(e){return this.renderer=e,this}getCamera(){return this.camera}load(){return Promise.resolve()}initialize(){}render(e){this.renderer.render(this.scene,this.camera)}registerOptions(e){}reset(){return this.scene=new a.Scene,this.camera=null,this.ready=!1,this}},p=l(require("dat.gui")),i=l(require("three")),m=class{constructor(e){this.type=e,this.previousDemo=null,this.demo=null}},h=new m("change"),u=new m("load"),b=1/1e3,D=class extends i.EventDispatcher{constructor(e,{aside:t=e,renderer:r}){super();if(this.renderer=r,this.renderer===void 0){let o=new i.WebGLRenderer;o.setSize(e.clientWidth,e.clientHeight),o.setPixelRatio(window.devicePixelRatio),this.renderer=o}this.timestamp=0,this.menu=new p.GUI({autoPlace:!1}),this.demos=new Map,this.demo=null,this.currentDemo=null,e.appendChild(this.renderer.domElement),t.appendChild(this.menu.domElement)}resetMenu(){let e=this.menu.domElement.parentNode,t=new p.GUI({autoPlace:!1});if(this.demos.size>1){let r=t.add(this,"demo",Array.from(this.demos.keys()));r.onChange(()=>this.loadDemo())}return e.removeChild(this.menu.domElement),e.appendChild(t.domElement),this.menu.destroy(),this.menu=t,t}startDemo(e){e.id===this.demo&&(e.initialize(),e.registerOptions(this.resetMenu()),e.ready=!0,u.demo=e,this.dispatchEvent(u))}loadDemo(){let e=this.demos.get(this.demo),t=this.currentDemo,r=this.renderer;window.location.hash=e.id,t!==null&&t.reset(),this.menu.domElement.style.display="none",h.previousDemo=t,h.demo=e,this.currentDemo=e,this.dispatchEvent(h),r.clear(),e.load().then(()=>this.startDemo(e)).catch(console.error)}addDemo(e){let t=window.location.hash.slice(1),r=this.currentDemo;return this.demos.set(e.id,e.setRenderer(this.renderer)),(this.demo===null&&t.length===0||e.id===t)&&(this.demo=e.id,this.loadDemo()),this.resetMenu(),r!==null&&r.ready&&r.registerOptions(this.menu),this}removeDemo(e){let t=this.demos;if(t.has(e))if(t.delete(e),this.demo===e&&t.size>0){let r=Array.from(t.entries()),o=r[0];this.demo=o[0],this.currentDemo=o[1],this.loadDemo()}else this.demo=null,this.currentDemo=null,this.renderer.clear();return this}setSize(e,t,r=!0){let o=this.currentDemo,s=o.getCamera();this.renderer.setSize(e,t,r),o!==null&&s!==null&&(s instanceof i.OrthographicCamera?(s.left=e/-2,s.right=e/2,s.top=t/2,s.bottom=t/-2,s.updateProjectionMatrix()):s instanceof i.PerspectiveCamera&&(s.aspect=e/t,s.updateProjectionMatrix()))}render(e){let t=(e-this.timestamp)*b;this.timestamp=e;let r=this.currentDemo;r!==null&&r.ready&&r.render(t)}};return L;})();
if(typeof module==="object"&&module.exports)module.exports=THREEDEMO;
