/**
 * three-demo v4.0.2 build Fri Aug 28 2020
 * https://github.com/vanruesc/three-demo
 * Copyright 2020 Raoul van RÃ¼schen
 * @license Zlib
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three"),require("dat.gui")):"function"==typeof define&&define.amd?define(["exports","three","dat.gui"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREEDEMO={},e.THREE,e.DAT.GUI)}(this,(function(e,t,r){"use strict";var i=function(e){void 0===e&&(e="demo"),this.scene=new t.Scene,this.id=e,this.renderer=null,this.loadingManager=new t.LoadingManager,this.assets=new Map,this.scene=new t.Scene,this.camera=null,this.ready=!1};i.prototype.setRenderer=function(e){return this.renderer=e,this},i.prototype.getCamera=function(){return this.camera},i.prototype.load=function(){return Promise.resolve()},i.prototype.initialize=function(){},i.prototype.render=function(e){this.renderer.render(this.scene,this.camera)},i.prototype.registerOptions=function(e){},i.prototype.reset=function(){return this.scene=new t.Scene,this.camera=null,this.ready=!1,this};var n=function(e){this.type=e,this.previousDemo=null,this.demo=null},o=new n("change"),s=new n("load"),a=function(e){function i(i,n){var o=n.aside;void 0===o&&(o=i);var s=n.renderer;if(e.call(this),this.renderer=s,void 0===this.renderer){var a=new t.WebGLRenderer;a.setSize(i.clientWidth,i.clientHeight),a.setPixelRatio(window.devicePixelRatio),this.renderer=a}this.timestamp=0,this.menu=new r.GUI({autoPlace:!1}),this.demos=new Map,this.demo=null,this.currentDemo=null,i.appendChild(this.renderer.domElement),o.appendChild(this.menu.domElement)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.resetMenu=function(){var e=this,t=this.menu.domElement.parentNode,i=new r.GUI({autoPlace:!1});this.demos.size>1&&i.add(this,"demo",Array.from(this.demos.keys())).onChange((function(){return e.loadDemo()}));return t.removeChild(this.menu.domElement),t.appendChild(i.domElement),this.menu.destroy(),this.menu=i,i},i.prototype.startDemo=function(e){e.id===this.demo&&(e.initialize(),e.registerOptions(this.resetMenu()),e.ready=!0,s.demo=e,this.dispatchEvent(s))},i.prototype.loadDemo=function(){var e=this,t=this.demos.get(this.demo),r=this.currentDemo,i=this.renderer;window.location.hash=t.id,null!==r&&r.reset(),this.menu.domElement.style.display="none",o.previousDemo=r,o.demo=t,this.currentDemo=t,this.dispatchEvent(o),i.clear(),t.load().then((function(){return e.startDemo(t)})).catch(console.error)},i.prototype.addDemo=function(e){var t=window.location.hash.slice(1),r=this.currentDemo;return this.demos.set(e.id,e.setRenderer(this.renderer)),(null===this.demo&&0===t.length||e.id===t)&&(this.demo=e.id,this.loadDemo()),this.resetMenu(),null!==r&&r.ready&&r.registerOptions(this.menu),this},i.prototype.removeDemo=function(e){var t=this.demos;if(t.has(e))if(t.delete(e),this.demo===e&&t.size>0){var r=Array.from(t.entries())[0];this.demo=r[0],this.currentDemo=r[1],this.loadDemo()}else this.demo=null,this.currentDemo=null,this.renderer.clear();return this},i.prototype.setSize=function(e,r,i){void 0===i&&(i=!0);var n=this.currentDemo,o=n.getCamera();this.renderer.setSize(e,r,i),null!==n&&null!==o&&(o instanceof t.OrthographicCamera?(o.left=e/-2,o.right=e/2,o.top=r/2,o.bottom=r/-2,o.updateProjectionMatrix()):o instanceof t.PerspectiveCamera&&(o.aspect=e/r,o.updateProjectionMatrix()))},i.prototype.render=function(e){var t=.001*(e-this.timestamp);this.timestamp=e;var r=this.currentDemo;null!==r&&r.ready&&r.render(t)},i}(t.EventDispatcher);e.Demo=i,e.DemoManager=a,e.DemoManagerEvent=n,Object.defineProperty(e,"__esModule",{value:!0})}));
